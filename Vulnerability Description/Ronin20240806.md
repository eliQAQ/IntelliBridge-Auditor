## 漏洞分析

漏洞根本原因：
Ronin 团队从合约版本 2 升级到版本 4 时，在 Bridge Manager 合约中引入了一个未初始化的变量，造成了漏洞。

在 Ronin Bridge 的最新升级中，原本通过 MainchainBridgeManager 获取的 totalWeight 参数被迁移到合约自身的存储中，作为 _totalOperatorWeight 变量直接存储。

然而，团队在部署新的实现合约 MainchainGatewayV3 后，忽略了调用关键的 initializeV3 初始化函数，导致 _totalOperatorWeight 没有被正确设置。

![](https://miro.medium.com/v2/resize:fit:1100/format:webp/0*2_SsH0TIOtYTsnjv)

根本原因：未初始化变量
未调用 initializeV3 导致 _totalOperatorWeight 保持默认值 0，从而意外地禁用了跨链验证的核心安全参数 minimumVoteWeight。

这使得桥接合约绕过了权限验证，从而允许任何提交都可以直接提取资金。

![](https://miro.medium.com/v2/resize:fit:1100/format:webp/0*Vay8-VCf2RHvkhi1)

## 参考链接

https://blog.solidityscan.com/ronin-bridge-hack-analysis-d8f64b8fe683